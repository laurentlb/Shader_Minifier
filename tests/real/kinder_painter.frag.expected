/* File generated with Shader Minifier 1.1.6
 * http://www.ctrl-alt-test.fr
 */
#ifndef KINDER_PAINTER_FRAG_EXPECTED_
# define KINDER_PAINTER_FRAG_EXPECTED_
# define VAR_MOUSE "f"
# define VAR_RESOLUTION "v"
# define VAR_TEX0 "i"
# define VAR_TEX1 "w"
# define VAR_TEX2 "o"
# define VAR_TEX3 "y"
# define VAR_TIME "z"

const char *kinder_painter_frag =
 "uniform vec2 v;"
 "uniform float z;"
 "uniform vec4 f;"
 "uniform sampler2D i,w,o,y;"
 "vec4 r[6],b[6];"
 "float t(in vec4 v,in vec3 m,in vec3 i)"
 "{"
   "vec3 r=m-v.xyz;"
   "float z=dot(i.xz,i.xz),d=dot(i.xz,r.xz),w=dot(r.xz,r.xz)-v.w*v.w,b;"
   "b=d*d-z*w;"
   "if(b>0.)"
     "b=-(d+sqrt(b))/z;"
   "return b-.001;"
 "}"
 "float d(in vec4 v,in vec3 m,in vec3 z)"
 "{"
   "vec3 i=m-v.xyz;"
   "float d=dot(z,i),w=dot(i,i)-v.w*v.w,r=d*d-w;"
   "if(r>0.)"
     "r=-d-sqrt(r);"
   "return r-.001;"
 "}"
 "bool d(in vec4 v,in vec3 m,in vec3 i,in float z)"
 "{"
   "vec3 r=m-v.xyz;"
   "float d=dot(i,r),w=dot(r,r)-v.w*v.w,b=d*d-w;"
   "bool f=false;"
   "if(b>0.)"
     "b=-d-sqrt(b),f=b>0.&&b<z;"
   "return f;"
 "}"
 "bool t(in vec4 v,in vec3 m,in vec3 i,in float z)"
 "{"
   "vec3 r=m-v.xyz;"
   "float w=dot(i.xz,i.xz),d=dot(i.xz,r.xz),b=dot(r.xz,r.xz)-v.w*v.w,f=d*d-w*b;"
   "bool y=false;"
   "if(f>0.)"
     "f=-(d+sqrt(f)),y=f>0.&&f<z*w;"
   "return y;"
 "}"
 "float n(in vec4 v,in vec3 i,in vec3 r)"
 "{"
   "float z=dot(v.xyz,r);"
   "z=sign(z)*max(abs(z),.001);"
   "float d=-(dot(v.xyz,i)+v.w)/z;"
   "return d-.001;"
 "}"
 "vec3 n(in vec4 v,in vec4 i,in vec3 m,out vec2 z)"
 "{"
   "vec3 r;"
   "if(i.w>2.5)"
     "r.xz=m.xz-v.xz,r.y=0.,r=r/v.w,z=vec2(r.x,m.y);"
   "else"
     " if(i.w>1.5)"
       "r=v.xyz,z=m.xz*.2;"
     "else"
       " r=m-v.xyz,r=r/v.w,z=r.xy;"
   "return r;"
 "}"
 "vec4 x(in vec4 v,in vec4 z,in bool i)"
 "{"
   "return i?z:v;"
 "}"
 "float s(in float v,in float z,in bool i)"
 "{"
   "return i?z:v;"
 "}"
 "int m(in int v,in int z,in bool i)"
 "{"
   "return i?z:v;"
 "}"
 "float m(in vec3 i,in vec3 v,out vec4 z,out vec4 f)"
 "{"
   "float w=10000.,y;"
   "f.w=-1.;"
   "bool o;"
   "y=d(r[0],i,v);"
   "o=y>0.&&y<w;"
   "z=m(z,r[0],o);"
   "f=m(f,b[0],o);"
   "w=m(w,y,o);"
   "y=d(r[1],i,v);"
   "o=y>0.&&y<w;"
   "z=m(z,r[1],o);"
   "f=m(f,b[1],o);"
   "w=m(w,y,o);"
   "y=t(r[2],i,v);"
   "o=y>0.&&y<w;"
   "z=m(z,r[2],o);"
   "f=m(f,b[2],o);"
   "w=m(w,y,o);"
   "y=t(r[3],i,v);"
   "o=y>0.&&y<w;"
   "z=m(z,r[3],o);"
   "f=m(f,b[3],o);"
   "w=m(w,y,o);"
   "y=n(r[4],i,v);"
   "o=y>0.&&y<w;"
   "z=m(z,r[4],o);"
   "f=m(f,b[4],o);"
   "w=m(w,y,o);"
   "y=n(r[5],i,v);"
   "o=y>0.&&y<w;"
   "z=m(z,r[5],o);"
   "f=m(f,b[5],o);"
   "w=m(w,y,o);"
   "return w;"
 "}"
 "bool a(in vec3 i,in vec3 v,in float o)"
 "{"
   "float z;"
   "bvec4 f;"
   "f.x=d(r[0],i,v,o);"
   "f.y=d(r[1],i,v,o);"
   "f.z=t(r[2],i,v,o);"
   "f.w=t(r[3],i,v,o);"
   "return any(f);"
 "}"
 "vec4 a(in vec3 v,in vec4 z,in vec4 w,in vec3 r,in vec4 o,out vec4 f)"
 "{"
   "vec3 y;"
   "float d,m;"
   "vec2 b;"
   "y=n(z,w,v,b);"
   "d=dot(y,o.xyz);"
   "f.xyz=reflect(r,y);"
   "m=dot(f.xyz,o.xyz);"
   "m=max(m,0.);"
   "m=m*m;"
   "m=m*m;"
   "if(a(v,o.xyz,o.w))"
     "d=0.;"
   "w*=texture2D(i,b);"
   "d=max(d,0.);"
   "w=w*(vec4(.3,.34,.38,1)+.5*vec4(1.,.95,.8,1.)*d)+.5*m;"
   "d=dot(y,-r);"
   "f.w=d;"
   "d=1.-d*d;"
   "d=d*d;"
   "w=w+.35*vec4(d);"
   "return w;"
 "}"
 "void main()"
 "{"
   "vec4 i,o,w;"
   "vec3 y;"
   "vec4 d;"
   "vec2 s=-1.+2.*gl_FragCoord.xy/v.xy;"
   "s*=vec2(v.x/v.y,1.);"
   "r[0]=vec4(1.2*sin(2.07342*z),0.,1.8*sin(2.45041*z+1.),1);"
   "r[1]=vec4(1.5*sin(1.94776*z+4.),sin(1.8221*z+1.9),1.8*sin(1.8221*z),1);"
   "r[2]=vec4(-1.2,0.,0.,.4);"
   "r[3]=vec4(1.2,0.,0.,.4);"
   "r[4]=vec4(0.,1.,0.,2.);"
   "r[5]=vec4(0.,-1.,0.,2.);"
   "b[0]=vec4(.9,.8,.6,1.);"
   "b[1]=vec4(1.,.6,.4,1.);"
   "b[2]=vec4(.8,.6,.5,3.);"
   "b[3]=vec4(.5,.5,.7,3.);"
   "b[4]=vec4(1.,.9,.9,2.);"
   "b[5]=vec4(1.,.9,.9,2.);"
   "float x=.15*z-6.2831*f.x/v.x,c=2.+3.*f.y/v.y;"
   "vec2 t=vec2(cos(x),sin(x));"
   "vec3 n=normalize(vec3(s.x*t.x-t.y,s.y,t.x+s.x*t.y)),l=vec3(c*t.y,0.,-c*t.x);"
   "float e=m(l,n,o,w);"
   "vec3 u=l+n*e;"
   "i.xyz=vec3(0.,1.5,-3.)-u;"
   "i.w=length(i.xyz);"
   "i.xyz=i.xyz/i.w;"
   "w=a(u,o,w,n,i,d);"
   "vec4 g,q;"
   "e=m(u,d.xyz,o,g);"
   "u=u+d.xyz*e;"
   "i.xyz=vec3(0.,1.5,-1.)-u;"
   "i.w=length(i.xyz);"
   "i.xyz=i.xyz/i.w;"
   "g=a(u,o,g,d.xyz,i,q);"
   "w=mix(w,g,.5-.5*d.w);"
   "gl_FragColor=w;"
 "}";

#endif // KINDER_PAINTER_FRAG_EXPECTED_
