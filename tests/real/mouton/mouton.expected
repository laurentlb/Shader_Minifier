// Generated with  (https://github.com/laurentlb/Shader_Minifier/)
#ifndef MOUTON_EXPECTED_
# define MOUTON_EXPECTED_
# define VAR_a_position "v"
# define VAR_animationAmp "m"
# define VAR_animationSpeed "f"
# define VAR_anvilPos "i"
# define VAR_blink "n"
# define VAR_camFocal "o"
# define VAR_camPos "c"
# define VAR_camTa "e"
# define VAR_excited "a"
# define VAR_eyeDir "d"
# define VAR_eyesSurprise "p"
# define VAR_fishEyeFactor "u"
# define VAR_flowerPos "y"
# define VAR_fragColor "C"
# define VAR_headRot "l"
# define VAR_iTime "t"
# define VAR_noseSize "w"
# define VAR_panelPos "x"
# define VAR_panelWarningPos "z"
# define VAR_sheepPos "s"
# define VAR_sunDir "r"
# define VAR_tex "k"

const char *mouton_vert =
 "#version 150\n"
 "in vec4 v;"
 "out vec3 m,f,s,y,x,z,i,r,c,e,d;"
 "out vec2 l,a;"
 "out float n,o,p,u,w;"
 "uniform float t;"
 "void main()"
 "{"
   "gl_Position=v;"
   "float g=t;"
   "s=vec3(0);"
   "x=vec3(9e7);"
   "y=vec3(9e7);"
   "z=vec3(9e7);"
   "i=vec3(9e7);"
   "o=2.;"
   "n=max(fract(t*.333),fract(t*.123+.1));"
   "a=vec2(0);"
   "r=normalize(vec3(3.5,1,-1));"
   "f=vec3(1);"
   "u=0.;"
   "l=vec2(0);"
   "w=1.;"
   "p=0.;"
   "if(g<7.5)"
     "m=vec3(1,.2,1),f=vec3(1,1,.5),d=vec3(0,.45,1),l.y=.25,o=4.,c=vec3(0,2.5,-3.7),e=vec3(0,3,0);"
   "else if(g<14.5)"
     "m=vec3(1,.2,.25),f=vec3(1,1,2),d=vec3(0,.5,1),l.y=.25,o=4.,c=vec3(5,.5,0),e=vec3(0,.5,1);"
   "else if(g<29.5)"
     "{"
       "float C=g-14.5;"
       "m=vec3(1,.2,.25);"
       "f=vec3(1,1,2);"
       "d=vec3(0,.5,1);"
       "l.y=.25;"
       "c=vec3(5.+C*.5,2,C*.5);"
       "e=vec3(0,2,0);"
     "}"
   "else if(g<44.)"
     "{"
       "float C=g-29.;"
       "m=vec3(1,.2,.25);"
       "f=vec3(1,1,2);"
       "d=vec3(0,.5,1);"
       "l.y=.25;"
       "float U=C*.35+2.5;"
       "r=normalize(vec3(cos(U),sin(U),-.3));"
       "o=1.5;"
       "c=vec3(22,2,C*.6-10.);"
       "e=vec3(0,2,C*.6-10.);"
     "}"
   "else if(g<52.)"
     "{"
       "float C=g-44.,U=smoothstep(5.,5.5,C);"
       "l.y=mix(.25,0.,U);"
       "m=vec3(1.-U,.2*(1.-U),1);"
       "f=vec3(1,1,.5);"
       "d=vec3(U*.3,.3-U*.3,1);"
       "p=smoothstep(7.4,7.6,C)*.2;"
       "o=4.;"
       "c=vec3(0,3,-4);"
       "e=vec3(0,3,0);"
       "if(C>3.)"
         "n=max(fract(t*.333),fract(t*.333+.08));"
     "}"
   "else if(g<54.8)"
     "{"
       "float C=g-52.;"
       "x=vec3(-5,0,-8);"
       "s=vec3(9e7);"
       "d=vec3(.3,0,1);"
       "p=.2;"
       "float U=smoothstep(0.,.5,C);"
       "o=mix(4.,3.,U);"
       "c=vec3(0,3,-4);"
       "e=mix(vec3(0,3,0),vec3(-5,5,-9),U);"
     "}"
   "else if(g<60.)"
     "{"
       "float C=g-55.;"
       "a.x=smoothstep(0.,.5,C);"
       "m=vec3(0);"
       "n=0.;"
       "d=vec3(.3,0,1);"
       "c=mix(vec3(0,3,-4),vec3(0,2,-6),a.x);"
       "e=vec3(0,3,0);"
       "o=mix(4.,3.,a.x)+smoothstep(0.,5.,C);"
     "}"
   "else if(g<65.)"
     "{"
       "float C=g-60.;"
       "d=vec3(0,0,1);"
       "s=vec3(0,0,-C*3.-2.);"
       "x=vec3(-5,0,-8);"
       "m=vec3(1,1,.5);"
       "f=vec3(3,1.5,8)*1.5;"
       "c=vec3(16,5,9);"
       "e=vec3(3,5,-2.-C);"
       "o=3.;"
     "}"
   "else if(g<73.)"
     "{"
       "float C=g-65.;"
       "m=vec3(1);"
       "f=vec3(3,1.5,8);"
       "float U=mod(C,8.);"
       "d=vec3(smoothstep(.5,1.,U)*smoothstep(2.8,2.5,U)-smoothstep(4.,4.5,U)*smoothstep(5.8,5.5,U)+cos(t)*.2,cos(t*.5)*.1+.1,1);"
       "u=.3;"
       "o=2.5;"
       "c=vec3(2.75,1,-5.25);"
       "e=vec3(0,2.3,0);"
       "float D=mod(C,2.);"
       "w+=smoothstep(.5,.6,D)*smoothstep(.7,.6,D)*.3;"
       "D=mod(C+.3,3.);"
       "w+=smoothstep(.5,.6,D)*smoothstep(.7,.6,D)*.3;"
     "}"
   "else if(g<76.)"
     "{"
       "float C=g-73.,U=smoothstep(1.,3.,C);"
       "m=vec3(0,1.-U*.5,1);"
       "f=vec3(3,1.5,6);"
       "d=vec3(U*.5,.3-U*.45,1);"
       "o=4.;"
       "c=vec3(0,3,-4);"
       "e=vec3(0,3,0);"
       "if(C>3.)"
         "n=max(fract(t*.333),fract(t*.333+.08));"
     "}"
   "else if(g<81.25)"
     "{"
       "float C=g-76.;"
       "z=vec3(-5,0,-8);"
       "d=vec3(.5,-.15,1);"
       "m=vec3(0,.5,1);"
       "f=vec3(3,1.5,6);"
       "float U=smoothstep(0.,1.,C);"
       "o=mix(4.,3.,U);"
       "c=vec3(0,3,-4);"
       "e=mix(vec3(0,3,0),vec3(-5,5,-9),U);"
     "}"
   "else if(g<88.)"
     "{"
       "float C=g-81.25;"
       "s=vec3(0,0,-11);"
       "z=vec3(-5,0,-8);"
       "d=normalize(mix(vec3(1,-.5,1),vec3(0,.5,1),smoothstep(2.8,3.2,C)));"
       "d=mix(d,vec3(1,-.5,1),smoothstep(6.,6.5,C));"
       "l.y=smoothstep(3.,3.5,C)*.6;"
       "l.x=smoothstep(3.,3.5,C)*smoothstep(7.,5.,C)*.25*sin(C*3.);"
       "m=vec3(1,.2,.5);"
       "f=vec3(0,.2,1);"
       "c=vec3(-3,4.8,-30);"
       "e=vec3(-3,4,0);"
       "o=3.5;"
     "}"
   "else if(g<96.)"
     "{"
       "float C=g-87.,U=smoothstep(6.,9.,C);"
       "s=vec3(0,0,C*.25-11.);"
       "z=vec3(-2,0,-8);"
       "d=vec3(-.5,.25-U,1);"
       "l.y=.5-U;"
       "m=vec3(1,.2,.5);"
       "f=vec3(-1,1,1)*.5;"
       "c=vec3(18,5,-5);"
       "e=vec3(-5,5,-6);"
       "o=3.;"
     "}"
   "else if(g<102.)"
     "{"
       "float C=g-96.;"
       "m=vec3(0);"
       "f=vec3(0);"
       "z=vec3(0,0,-8);"
       "e=mod(C,3.)<1.5?"
         "(n=0.,c=vec3(0,2,-8),vec3(0,3,0)):"
         "(c=vec3(0,5.5,2),vec3(0,5.75,0));"
       "d=vec3(0,-.1,1);"
       "o=3.+C*.1;"
     "}"
   "else if(g<110.)"
     "{"
       "float C=g-103.5,U=sin(min(C,5.));"
       "m=vec3(0);"
       "f=vec3(0);"
       "d=normalize(vec3(U*.7,0,1));"
       "d=mix(d,vec3(-.3,.2,1),smoothstep(5.2,5.4,C));"
       "l.x=U*.25;"
       "p=smoothstep(6.,6.2,C)*.2;"
       "s=vec3(0,(smoothstep(6.,6.2,C)-smoothstep(6.2,6.4,C))*.4,0);"
       "o=3.5;"
       "c=vec3(0,2,-8);"
       "e=vec3(0,3,0);"
     "}"
   "else if(g<112.)"
     "{"
       "float C=g-110.;"
       "s=vec3(9e7);"
       "z=vec3(-2,0,-8);"
       "y=vec3(5,0,-20);"
       "float U=smoothstep(.5,1.,C);"
       "o=mix(3.,4.,U);"
       "c=vec3(0,5.5,2);"
       "e=mix(vec3(-.5,5.75,0),vec3(5,2,-20),U);"
       "a.x=U*.3;"
     "}"
   "else if(g<117.8)"
     "{"
       "float C=g-112.;"
       "C*=1.2;"
       "m=vec3(.1);"
       "f=vec3(.2);"
       "o=2.8+C*.15;"
       "int U=int(C);"
       "if(U%4==1)"
         "z=vec3(0,0,-8),c=vec3(2.5,2,-1),e=vec3(1,5.25,-8),o=2.8+pow(C*.3,1.2);"
       "else if(U%4==3)"
         "y=vec3(4,0,-8),c=vec3(0,5.5,2),e=vec3(4,3,-8),a.x=.3+.2/12.,a.y=C/12.;"
       "else"
         " c=vec3(0,2.4,-8),e=vec3(0,3,0);"
       "float D=smoothstep(.3,.7,fract(C));"
       "if(U%4==0)"
         "D=1.-D;"
       "l.x=-D*.1;"
       "d=normalize(mix(vec3(.1,-.25,1),vec3(-.2,.2,1),D));"
       "d+=vec3(cos(C*10.),cos(C*5.),1)*.01;"
     "}"
   "else if(g<121.8)"
     "{"
       "float C=g-118.;"
       "s=vec3(9e7);"
       "z=vec3(-2,0,-8);"
       "y=vec3(5,0,-20);"
       "o=9.+C*.2;"
       "c=vec3(0,5.5,2);"
       "e=vec3(5,2,-20);"
       "a.x=.4;"
       "a.y=C;"
     "}"
   "else if(g<125.)"
     "{"
       "float C=g-120.;"
       "m=vec3(0,.1,0);"
       "f=vec3(0,.5,0);"
       "c=vec3(0,2.4,-8);"
       "e=vec3(0,3,0);"
       "l.x=-.1;"
       "l.y=sin(C*2.)*.1;"
       "p=smoothstep(0.,3.,C)*.1;"
       "d=vec3(-.2,.2,1);"
       "o=3.2-C*.15;"
       "a.x=.1;"
       "a.y=5.;"
     "}"
   "else if(g<137.)"
     "{"
       "float C=g-125.;"
       "d=vec3(0,0,1);"
       "s=vec3(0,0,-C*2.+2.);"
       "y=vec3(0,-.5,-30);"
       "m=vec3(1,1,.5);"
       "f=vec3(3,1.5,8);"
       "c=vec3(-2,3.5,mix(-10.,-33.,smoothstep(0.,10.,C)));"
       "e=vec3(2,2,-3.-C*2.);"
       "o=3.;"
     "}"
   "else if(g<142.)"
     "{"
       "float C=g-137.2;"
       "d=vec3(0,0,1);"
       "s=vec3(0,(1.-smoothstep(.3,.25,C))*-4.8,-22.-C*2.);"
       "y=vec3(2,0,-30);"
       "m=vec3(1,1,.5);"
       "f=vec3(3,1.5,8);"
       "c=vec3(-20,6,-13)+vec3(cos(C*72.),cos(C*64.),sin(C*48.))*3.*smoothstep(.3,.31,C)*smoothstep(.7,.1,C);"
       "e=vec3(3,2,-23);"
       "o=mix(4.,4.2,smoothstep(0.,5.,C));"
       "i=vec3(0,smoothstep(.3,.2,C)*13.,-22);"
     "}"
   "else"
     "{"
       "float C=g-143.;"
       "d=vec3(0,0,1);"
       "s=vec3(9e7);"
       "z=vec3(-1,0,-8);"
       "y=vec3(1,0,-25);"
       "e=vec3(2,3.6,-18);"
       "c=vec3(5,5,2);"
       "o=2.5+smoothstep(1.7,2.2,C)*4.2;"
       "i=vec3(7,0,-20);"
     "}"
   "d=normalize(d);"
 "}";

const char *mouton_frag =
 "#version 150\n"
 "out vec4 C;"
 "const vec2 g=vec2(1920,1080);"
 "in vec3 m,f,s,y,x,z,i,r,c,e,d;"
 "in vec2 l,a;"
 "in float n,o,p,u,w;"
 "uniform float t;"
 "const float U=acos(-1.);"
 "float D=0.;"
 "vec2 h(vec2 i,vec2 C)"
 "{"
   "return i.x<C.x?"
     "i:"
     "C;"
 "}"
 "float h(vec3 v,vec3 C,float x)"
 "{"
   "float y=max(dot(v,normalize(C+v)),0.),c=2e3/x,d=3./x;"
   "return(pow(y,c)*(c+2.)+pow(y,d)*(d+2.)*2.)*.008;"
 "}"
 "vec3 h(vec3 v)"
 "{"
   "uvec3 C=uvec3((v+1e2)*1e4);"
   "C=(C>>8U^C.yzx)*1103515245U;"
   "C=(C>>8U^C.yzx)*1103515245U;"
   "C=(C>>8U^C.yzx)*1103515245U;"
   "return vec3(C)*(1./float(-1U));"
 "}"
 "float B(vec3 v)"
 "{"
   "vec3 C=floor(v),m=fract(v);"
   "m=m*m*m*(m*(m*6.-15.)+10.);"
   "return mix(mix(mix(h(C+vec3(0)).x,h(C+vec3(1,0,0)).x,m.x),mix(h(C+vec3(0,1,0)).x,h(C+vec3(1,1,0)).x,m.x),m.y),mix(mix(h(C+vec3(0,0,1)).x,h(C+vec3(1,0,1)).x,m.x),mix(h(C+vec3(0,1,1)).x,h(C+vec3(1)).x,m.x),m.y),m.z)*2.-1.;"
 "}"
 "vec2 A(vec3 v)"
 "{"
   "v.xz-=i.xz;"
   "v.y-=-i.y;"
   "float C=v.y+smoothstep(1.,20.,length(v.xz));"
   "return C<.4?"
     "(C-=pow((B(v*.9)*.5+B(v*1.6)*.3+B(v*2.7)*.1)*.5+.5,3.)*.45*(1.-exp((-t+137.3)*3.)),vec2(C,12)):"
     "vec2(9e7,0);"
 "}"
 "mat3 A(vec3 v,vec3 C)"
 "{"
   "vec3 y=normalize(C-v),m=normalize(cross(y,normalize(vec3(0,1,0))));"
   "return mat3(m,cross(m,y),y);"
 "}"
 "mat2 E(float v)"
 "{"
   "float C=cos(v),y=sin(v);"
   "return mat2(C,y,-y,C);"
 "}"
 "vec3 A(vec3 i,vec2 v,float C)"
 "{"
   "vec2 y=vec2(cos(t*.7+2.),sin(t*.7+2.)*.75);"
   "float m=smoothstep(.151,.15,length(v-y)),s=m*smoothstep(.13,.2701,length(v-y-vec2(.05))+.004*B(1e2*vec3(v-y,0)));"
   "vec2 x=E(t*2e-4)*v*2e2,c=floor(x);"
   "vec3 g=h(vec3(abs(c),abs(c.x)));"
   "float f=g.z*.06;"
   "return vec3(1,.9,.1)*s*smoothstep(.5,-1.,r.y)+smoothstep(f,f*.01,length(fract(x)-.5+(g.xy-.5)))*(1.-m)+exp(-length(v-y)*2.)*.1+pow(C,2.);"
 "}"
 "float B(vec3 v,vec3 C)"
 "{"
   "vec3 m=abs(v)-C;"
   "return length(max(m,0.))+min(max(m.x,max(m.y,m.z)),0.);"
 "}"
 "vec2 F(vec3 v)"
 "{"
   "v-=i;"
   "v.xz=E(1.)*v.xz;"
   "float C=pow(clamp(v.y-1.,.004,1.),.5);"
   "C=B(v-vec3(0,1,0),vec3(1.5-C,1,2.5-C));"
   "if(C<10.)"
     "{"
       "C=min(C,B(v-vec3(0,3,0),vec3(2,1,3)));"
       "float f=length((v.yz-vec2(4.5,3))*vec2(1,.8))-2.;"
       "f=max(f,abs(v.x)-.5);"
       "f=max(f,v.y-3.5);"
       "C=min(C,f);"
       "return vec2(C-.1,11);"
     "}"
   "return vec2(9e7,0);"
 "}"
 "vec2 G(vec3 v)"
 "{"
   "v-=x;"
   "float C=B(v-vec3(0,7.5,-5),vec3(.8,.8,.1))-.2;"
   "if(C<7.)"
     "{"
       "C=max(C,abs(v.z+5.)-.1);"
       "float y=B(v-vec3(0,4,-5.1),vec3(.11,4,.08));"
       "return h(vec2(y,5),vec2(C,7));"
     "}"
   "return vec2(9e7,0);"
 "}"
 "float A(vec3 v,float C,float i,float y)"
 "{"
   "vec2 m=vec2(length(v.xz),v.y),c=vec2(y,C),f=vec2(y-i,2.*C),x=vec2(m.x-min(m.x,m.y<0.?"
     "i:"
     "y),abs(m.y)-C);"
   "f=m-c+f*clamp(dot(c-m,f)/dot(f,f),0.,1.);"
   "return(f.x<0.&&x.y<0.?"
     "-1.:"
     "1.)*sqrt(min(dot(x,x),dot(f,f)));"
 "}"
 "float E(vec3 v,vec3 C)"
 "{"
   "vec3 y=v-C,x=vec3(0,2,4.9)-C;"
   "return length(y-x*clamp(dot(y,x)/dot(x,x),0.,1.))-.2;"
 "}"
 "float F(vec3 v,vec2 C)"
 "{"
   "return length(vec2(length(v.xy)-C.x,v.z))-C.y;"
 "}"
 "float G(vec3 v,vec3 C)"
 "{"
   "float y=length(v/C);"
   "return y*(y-1.)/length(v/(C*C));"
 "}"
 "vec2 H(vec3 v)"
 "{"
   "v-=y;"
   "vec3 m=v;"
   "m.x+=cos(.775+t)*3.1*.2;"
   "m.y-=2.8;"
   "m.zy=E(.7)*m.zy;"
   "float C=G(m-vec3(0,.3,0),vec3(1,.2+cos(m.x*150.)*sin(m.z*150.)*.05,1)*.25);"
   "if(C<5.)"
     "{"
       "vec2 i=vec2(C,8);"
       "vec3 f=m;"
       "float x=U*.2,c=atan(f.z,f.x),s=length(f.xz);"
       "c=mod(c-x/2.,x)-x/2.;"
       "f.xz=vec2(cos(c),sin(c))*s;"
       "float g=G(f-vec3(.5,.2+sin(f.x*2.)*.2,0),vec3(2,.1+sin(f.z*40.)*.02,.75)*.25);"
       "if(g<i.x)"
         "i=vec2(g,9);"
       "float d=max(length(v.xz+vec2(cos(v.y*.25+t)*v.y*.2+.02,-.1))-smoothstep(3.1,0.,v.y)*.05-.02,v.y-3.1);"
       "if(d<i.x)"
         "i=vec2(d,10);"
       "return i;"
     "}"
   "return vec2(9e7,0);"
 "}"
 "float B(float v,float C,float x)"
 "{"
   "float y=clamp(.5+.5*(C-v)/x,0.,1.);"
   "return mix(C,v,y)-x*y*(1.-y);"
 "}"
 "float E(float v,float C,float y)"
 "{"
   "y*=1.4;"
   "float m=max(y-abs(v-C),0.);"
   "return max(v,C)+m*m*m/(6.*y*y);"
 "}"
 "vec2 I(vec3 v)"
 "{"
   "v-=s;"
   "float C=mod(t,1.);"
   "C=smoothstep(0.,1.,abs(C*2.-1.));"
   "v.y-=1.;"
   "v.z-=-2.;"
   "float y=t*f.x;"
   "vec3 x=vec3(cos(y*U),cos(y*U*2.)*.1,0)*.025*m.x;"
   "y=length(v*vec3(1,1,.825)-vec3(0,1.5,2.55)-x)-2.;"
   "if(y<3.)"
     "{"
       "float i=pow(B((v-x+vec3(.05,0,.5))*2.)*.5+.5,.75)*2.-1.;"
       "y=y+.05-i*.2;"
       "float c=mod(t*f.x,2.),z=smoothstep(0.,.5,c),d=smoothstep(.5,1.,c),e=smoothstep(1.,1.5,c),o=smoothstep(1.5,2.,c);"
       "vec4 g=vec4(d*(1.-d),o*(1.-o),z*(1.-z),e*(1.-e)),a=c*.5-vec4(d,o,z,e);"
       "a*=m.x;"
       "vec3 r=v;"
       "r.x-=.8;"
       "r.z-=2.+a.x;"
       "r.yz=E(g.x)*r.yz;"
       "float u=A(r-vec3(0),.7,.3,.2),G=A(r-vec3(0,-.8,0),.2,.35,.3);"
       "r=v;"
       "r.x+=1.;"
       "r.z-=2.+a.y;"
       "r.yz=E(g.y)*r.yz;"
       "u=min(u,A(r-vec3(0),.7,.3,.2));"
       "G=min(G,A(r-vec3(0,-.8,0),.2,.35,.3));"
       "r=v;"
       "r.x-=1.;"
       "r.z-=4.+a.z;"
       "r.yz=E(g.z)*r.yz;"
       "u=min(u,A(r-vec3(0),.7,.3,.2));"
       "G=min(G,A(r-vec3(0,-.8,0),.2,.35,.3));"
       "r=v;"
       "r.x+=1.;"
       "r.z-=4.+a.w;"
       "r.yz=E(g.w)*r.yz;"
       "u=min(u,A(r-vec3(0),.7,.3,.2));"
       "G=min(G,A(r-vec3(0,-.8,0),.2,.35,.3));"
       "vec3 K=v+vec3(0,-2,-1.2);"
       "K.xz=E((C*f.y-.5)*.25*m.y+l.x)*K.xz;"
       "K.zy=E(sin(t*f.y)*.25*m.y-l.y)*K.zy;"
       "float H=length(K-vec3(0,-1.3,-1.2))-1.;"
       "H=B(H,length(K-vec3(0))-.5,1.8);"
       "vec3 I=K;"
       "I*=vec3(.7,1,.7);"
       "float J=length(K-vec3(0,.35,-.1))-.55;"
       "J-=(cos(K.z*8.+K.y*4.5+K.x*4.)+cos(K.z*4.+K.y*6.5+K.x*8.))*.05;"
       "J=B(J,y,.1);"
       "I=K;"
       "I.yz=E(-.6)*I.yz;"
       "I.x=abs(v.x)-.8;"
       "I*=vec3(.3,1,.4);"
       "I-=vec3(0,-.05-pow(I.x,2.)*5.,-.1);"
       "float L=length(I)-.15;"
       "L=E(L,-length(I-vec3(0,-.1,0))+.12,.01);"
       "I.y*=.3;"
       "I.y-=-.11;"
       "float M=length(I)-.16;"
       "I=K;"
       "I.x=abs(K.x)-.4;"
       "float N=length(I*vec3(1,1,1.-p)-vec3(0,0,-1))-.3,O=abs(N)-.01;"
       "O=E(O,B(-abs(K.y+K.z*.025)+.25-smoothstep(.95,.96,n)*.3+cos(t)*.02,-K.z-1.-p*1.8,.2),.01);"
       "O=B(O,H,.02);"
       "H=min(H,O);"
       "I.x=abs(K.x)-.2;"
       "I.xz=E(-.45)*I.xz;"
       "H=E(H,-length(I-vec3(-.7,-1.2,-2.05))+.14*w,.1);"
       "H=B(H,F(I-vec3(-.7,-1.2,-1.94),vec2(.14*w,.05)),.05);"
       "float P=E(v-vec3(0,-.1,cos(v.y-.7)*.5),vec3(cos(t*f.z)*m.z,.2,5));"
       "P-=(cos(v.z*8.+v.y*4.5+v.x*4.)+cos(v.z*4.+v.y*6.5+v.x*3.))*.02;"
       "P=B(y,P,.1);"
       "vec2 k=vec2(y,1);"
       "k=h(k,vec2(P,1));"
       "k=h(k,vec2(J,1));"
       "k.x=E(k.x,-M,.15);"
       "k=h(k,vec2(u,2));"
       "k=h(k,vec2(H,2));"
       "k=h(k,vec2(N,3));"
       "k=h(k,vec2(G,4));"
       "k=h(k,vec2(L,2));"
       "D=H;"
       "return k;"
     "}"
   "return vec2(y,1);"
 "}"
 "float F(vec3 v,vec2 C,float y)"
 "{"
   "return max(abs(v.z)-C.y,E(E(v.x*.9+v.y*.5,-v.x*.9+v.y*.5,y),-v.y,y)-C.x*.5);"
 "}"
 "vec2 J(vec3 v)"
 "{"
   "v-=z;"
   "float C=F(v-vec3(0,7.5,-5),vec2(1.7,.1),.3);"
   "if(C<8.)"
     "{"
       "C=E(C,-F(v-vec3(0,7.5,-5.1),vec2(1.6,.1),.3),.001);"
       "float f=B(v-vec3(0,4,-5.1),vec3(.11,4,.08));"
       "vec3 m=v;"
       "m.y=abs(m.y-7.3)-.3;"
       "f=min(f,B(m-vec3(0,0,-5.05),vec3(.35,.1,.05)));"
       "vec2 y=vec2(f,5);"
       "return h(y,vec2(C,6));"
     "}"
   "return vec2(9e7,0);"
 "}"
 "vec2 K(vec3 v)"
 "{"
   "return h(h(h(h(h(h(vec2(v.y,0),I(v)),H(v)),G(v)),J(v)),F(v)),A(v));"
 "}"
 "float B(vec3 v,vec3 C,float y,float x)"
 "{"
   "float m=.5*y-K(v+C*y*.5).x,c=.95*(y-K(v+C*y).x);"
   "return clamp(1.-x*1.5*(m+c),0.,1.);"
 "}"
 "float H(vec3 v,vec3 C)"
 "{"
   "float y=.01;"
   "for(int f=0;f<128;f++)"
     "{"
       "float m=K(v+C*y).x;"
       "y+=m;"
       "if(y>1e2||abs(m)<.001)"
         "break;"
     "}"
   "return y;"
 "}"
 "float I(vec3 v,vec3 C)"
 "{"
   "float f=1.,y=.08;"
   "for(int i=0;i<64;i++)"
     "{"
       "float m=K(v+C*y).x;"
       "f=min(f,30.*m/y);"
       "y+=m;"
       "if(f<1e-4||y>50.)"
         "break;"
     "}"
   "return clamp(f,0.,1.);"
 "}"
 "float E(vec2 v,float C,float y,float x)"
 "{"
   "v.x=abs(v.x);"
   "float m=(C-y)/x,f=sqrt(1.-m*m),c=dot(v,vec2(-m,f));"
   "return c<0.?"
     "length(v)-C:"
     "c>f*x?"
       "length(v-vec2(0,x))-y:"
       "dot(v,vec2(f,m))-C;"
 "}"
 "float J(vec2 v,float C)"
 "{"
   "vec2 y=vec2(.81,-.59),f=vec2(-y.x,y.y);"
   "v.x=abs(v.x);"
   "v-=2.*max(dot(y,v),0.)*y;"
   "v-=2.*max(dot(f,v),0.)*f;"
   "v.x=abs(v.x);"
   "v.y-=C;"
   "f=.5*vec2(-y.y,y)-vec2(0,1);"
   "float m=clamp(dot(v,f)/dot(f,f),0.,C);"
   "return length(v-f*m)*sign(v.y*f.x-v.x*f.y);"
 "}"
 "void main()"
 "{"
   "vec2 v=gl_FragCoord.xy/g,f=v*2.-1.;"
   "f.x*=g.x/g.y;"
   "vec3 m=c,s=A(m,e)*normalize(vec3(f,o-length(f)*u));"
   "float U=H(m,s);"
   "vec3 i=m+s*U;"
   "vec2 l=K(i),n=vec2(1e-4,0);"
   "vec3 k=normalize(vec3(l.x-K(i-n.xyy).x,l.x-K(i-n.yxy).x,l.x-K(i-n.yyx).x));"
   "float G=smoothstep(0.,.3,r.y)+.1,O=B(i,k,.15,1.)*B(i,k,1.,.1)*.5,w=I(i,r),L=1.+dot(s,k);"
   "vec3 P=vec3(1,.8,.7)*max(dot(k,r),0.)*pow(vec3(w),vec3(1,1.2,1.5)),M=vec3(1,.8,.7)*.1*max(dot(k,-r),0.)*O,N=vec3(.5)*mix(B(i,s,.3,.75),B(i,r,.3,.75),.5),Q=vec3(1)*max(dot(reflect(s,k),r),0.),R=vec3(0),S=vec3(.4,.45,.5)*O,T=vec3(0),b=vec3(0);"
   "if(l.y==0.)"
     "b=vec3(3),N*=0.,Q*=0.;"
   "else if(l.y==1.)"
     "b=vec3(.4),N*=L*.5+.5,T=vec3(.35),Q=pow(Q,vec3(4))*L*.25;"
   "else if(l.y==4.)"
     "b=vec3(.025),N*=0.,Q=pow(Q,vec3(80))*L*10.;"
   "else if(l.y==3.)"
     "{"
       "N*=.5;"
       "vec3 V=normalize(d+(B(vec3(t,t*.5,t*1.5))*2.-1.)*.01),W=cross(V,vec3(0,1,0)),X=cross(V,W);"
       "W=cross(X,V);"
       "vec3 Y=k.z*V+k.x*W+k.y*X,Z=s.z*d+s.x*W+s.y*X;"
       "vec2 _=Z.xy/Z.z*length(Y.xy)/length(m-i)*.4;"
       "Y.xy-=_*smoothstep(.01,0.,dot(Y,s));"
       "float j=.2+p*.5,q=length(Y.xy),at=atan(Y.x,Y.y);"
       "vec3 ay=mix(vec3(.5,.3,.1),vec3(0,.8,1),smoothstep(.16,.3,q)*.3+cos(at*15.)*.04);"
       "float ax=smoothstep(-.9,1.,B(vec3(q*10.,at*30.+cos(q*50.+B(vec3(at))*50.),0)))+smoothstep(-.9,1.,B(vec3(q*10.,at*40.+cos(q*30.+B(vec3(at))*50.)*2.,0))),aC=smoothstep(j,j+.02,q);"
       "b=ay*(ax*.5+.5)*smoothstep(.3,.29,q);"
       "b*=vec3(1,.8,.7)*pow(max(0.,dot(normalize(vec3(3,1,-1)),Y)),8.)*3e2+.5;"
       "b*=aC;"
       "b+=pow(Q,vec3(800))*3;"
       "b=mix(b,vec3(.8),smoothstep(.29,.3,q));"
       "b=mix(ay*.3,b,smoothstep(0.,.05,abs(q-.3)+.01));"
       "k=mix(normalize(k+(d+k)*4.),k,smoothstep(.3,.32,q));"
       "{"
         "vec3 am=reflect(s,k),av=normalize(vec3(1,1.5,-1)),ab=vec3(-av.x,av.y*.5,av.z);"
         "float ac=h(am,av,.1)+h(am,ab,2.)*.1+h(am,normalize(av+vec3(.2,0,0)),.3)+h(am,normalize(av+vec3(.2,0,.2)),.5)+h(am,normalize(ab+vec3(.1,0,.2)),8.)*.5;"
         "R=(mix(mix(vec3(.3,.3,0),vec3(.1),smoothstep(-.7,.2,am.y)),vec3(.3,.65,1),smoothstep(0.,1.,am.y))+ac*vec3(1,.9,.8))*mix(.15,.2,aC)*sqrt(L)*2.5;"
       "}"
       "K(i);"
       "b*=smoothstep(0.,.015,D)*.4+.6;"
       "Q*=0.;"
     "}"
   "else if(l.y==5.)"
     "b=vec3(.85,.95,1),N*=0.,Q=pow(Q,vec3(8))*L*2.;"
   "else if(l.y==6.)"
     "{"
       "vec3 Y=i-z;"
       "N*=0.;"
       "Q=pow(Q,vec3(8))*L*20.;"
       "if(k.z>.5)"
         "{"
           "float q=F(Y-vec3(0,7.5,-5),vec2(1.3,.2),.01);"
           "b=vec3(1.5,0,0);"
           "float W=smoothstep(.13,.1295,distance(Y,vec3(0,7.1,-4.9)));"
           "W+=smoothstep(.005,0.,E(Y.xy-vec2(0,7.34),.06,.14,1.));"
           "b=mix(b,vec3(2),smoothstep(.005,0.,q));"
           "b=mix(b,vec3(0),W);"
         "}"
       "else"
         " b=vec3(.85,.95,1);"
     "}"
   "else if(l.y==7.)"
     "{"
       "vec3 Y=i-x;"
       "N*=0.;"
       "Q=pow(Q,vec3(8))*L*10.;"
       "if(k.z>.5)"
         "{"
           "b=vec3(0,0,1.5);"
           "Y.y-=7.4;"
           "float q=B(Y-vec3(0,.1,-5),vec3(.8,.8,1)),W=0.;"
           "Y.xy=E(.8)*Y.xy;"
           "W+=smoothstep(.01,0.,E(Y.xy-vec2(-.04,-.6),.1,.05,1.));"
           "W+=smoothstep(.01,0.,E(Y.xy-vec2(-.04,.5),.16,.135,.15));"
           "W*=smoothstep(0.,.01,E(Y.xy-vec2(-.12,.56),.001,.02,.2));"
           "W*=smoothstep(0.,.01,E(Y.xy-vec2(0,.56),.001,.02,.2));"
           "Y.xy=E(-1.6)*Y.xy;"
           "W+=smoothstep(.01,0.,E(Y.xy-vec2(.04,-.6),.1,.05,1.));"
           "W+=smoothstep(.01,0.,E(Y.xy-vec2(.04,.5),.16,.1,.15));"
           "b=mix(b,vec3(2),smoothstep(.01,0.,q));"
           "b=mix(b,vec3(0),W);"
         "}"
       "else"
         " b=vec3(1);"
     "}"
   "else if(l.y==8.)"
     "{"
       "vec3 Y=i-y;"
       "Y.x+=cos(.775+t)*3.1*.2;"
       "Y.y-=2.8;"
       "Y.zy=E(.75)*Y.zy;"
       "b=mix(vec3(2,.75,0),vec3(2,2,0),smoothstep(0.,.45,length(Y-vec3(0,.3,0))))*1.8;"
       "N=vec3(.01);"
       "Q*=0.;"
     "}"
   "else if(l.y==10.)"
     "b=vec3(0,.05,0),Q*=L;"
   "else if(l.y==9.)"
     "{"
       "vec3 Y=i-y;"
       "Y.x+=cos(.775+t)*3.1*.2;"
       "Y.y-=2.8;"
       "Y.zy=E(.75)*Y.zy;"
       "b=mix(vec3(1)+.5,vec3(.75,.5,1),smoothstep(.5,1.1,length(Y-vec3(0,.3,0))))*2.;"
       "N*=0.;"
       "Q=pow(Q,vec3(4))*L;"
     "}"
   "else if(l.y==11.)"
     "b=vec3(1),P*=vec3(.1)*L,S*=vec3(.1)*L,M*=0.,N*=0.,Q=pow(Q,vec3(100))*L*2.;"
   "else if(l.y==12.)"
     "b=vec3(1,.01,.01)*.3,P*=vec3(3),S*=vec3(2)*L*L,N*=0.,Q=vec3(1,.3,.3)*pow(Q,vec3(500))*5.;"
   "else if(l.y==2.)"
     "b=vec3(1,.7,.5),S*=vec3(1,.75,.75),N=pow(N,vec3(.5,2.5,5)+2.)*2.,Q=pow(Q,vec3(4))*L*.02;"
   "b=clamp(mix((b*(S+P*.5+M*2.+N*2.)+R+Q*w+T)*G,A(s,f,G),smoothstep(90.,1e2,U)),0.,1.);"
   "if(l.y==0.)"
     "{"
       "float Y=length(f)*.5,q=cos(atan(f.x,f.y)*15.-t*3.-Y*30.*a.y);"
       "b=mix(b,mix(mix(vec3(1,.5,0),vec3(.8,.5,1),(cos(Y*5.+t*5.)*.5+.5)*a.y),vec3(1),smoothstep(-Y,Y,q)),a.x);"
     "}"
   "l=vec2(abs(f.x*5.-.35)-1.8,f.y*5.-1.4);"
   "l*=E(t*5.);"
   "G=(1.4+.2*sin(t*20.))*smoothstep(.5,1.,a.x);"
   "O=J(l,G);"
   "P=mix(vec3(1,.6,0),vec3(1,.2,0),smoothstep(-.1,.6,J(l,G*.5)))*1.3;"
   "b=mix(b,P,smoothstep(0.,-.01,O)*a.x);"
   "b=pow(pow(b,vec3(1./2.2)),vec3(1,1.05,1.1));"
   "G=length(gl_FragCoord.xy/g.xx-vec2(.5,.3));"
   "O=max(.137,smoothstep(147.,146.,t));"
   "b*=smoothstep(O,O-.005,G);"
   "O=fract(23.*pow(G,.25));"
   "O-=smoothstep(.95,.99,O);"
   "b=mix(b,mix(vec3(1,.6,0),vec3(1,0,0),pow(O,1.)),smoothstep(.135,.136,G)*smoothstep(147.,148.,t));"
   "b*=smoothstep(0.,8.,t)*smoothstep(153.,150.,t);"
   "C=vec4(b/(1.+pow(length(v*2.-1.),4.)*.04),1);"
 "}";

const char *fxaa_frag =
 "#version 150\n"
 "out vec4 C;"
 "const vec2 b=vec2(1920,1080);"
 "uniform sampler2D k;"
 "void main()"
 "{"
   "vec2 v=1./b,f=gl_FragCoord.xy*v;"
   "vec4 m=vec4(f,f-v*.5);"
   "vec3 y=vec3(.299,.587,.114);"
   "float s=dot(textureLod(k,m.zw,0.).xyz,y),x=dot(textureLod(k,m.zw+vec2(1,0)*v.xy,0.).xyz,y),c=dot(textureLod(k,m.zw+vec2(0,1)*v.xy,0.).xyz,y),U=dot(textureLod(k,m.zw+vec2(1)*v.xy,0.).xyz,y),d=dot(textureLod(k,m.xy,0.).xyz,y),e=min(d,min(min(s,x),min(c,U)));"
   "d=max(d,max(max(s,x),max(c,U)));"
   "f=vec2(-s-x+c+U,s+c-x-U);"
   "s=1./(min(abs(f.x),abs(f.y))+1./128.);"
   "f=min(vec2(8),max(vec2(-8),f*s))*v.xy;"
   "vec3 i=.5*(textureLod(k,m.xy+f*(1./3.-.5),0.).xyz+textureLod(k,m.xy+f*(2./3.-.5),0.).xyz),a=i*.5+.25*(textureLod(k,m.xy+f*-.5,0.).xyz+textureLod(k,m.xy+f*.5,0.).xyz);"
   "s=dot(a,y);"
   "C=s<e||s>d?"
     "vec4(i,1):"
     "vec4(a,1);"
 "}";

#endif // MOUTON_EXPECTED_
