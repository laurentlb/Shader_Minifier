/* File generated with 
 * http://www.ctrl-alt-test.fr
 */
#ifndef OSCARS_CHAIR_FRAG_EXPECTED_
# define OSCARS_CHAIR_FRAG_EXPECTED_
# define VAR_tex1 "a"

const char *oscars_chair_frag =
 "#version 130\n"
 "vec2 v=gl_FragCoord.xy/1280;"
 "uniform sampler2D a;"
 "float y=gl_TexCoord[0].x/44100,i,m,s=1,r;"
 "vec3 c=vec3(7,5,19),z=vec3(-4,0,3),f,x,g=vec3(0,5,-7),e;"
 "float n(vec2 x,float v)"
 "{"
   "float y=0,c=1,m=1;"
   "for(int f=0;f<r;++f)"
     "y+=(texture(a,(x+f*40)*c/vec2(1280,640)).z*2-1)*(m/=v),c*=2;"
   "return y;"
 "}"
 "float p(vec2 v,out vec3 f)"
 "{"
   "vec2 a=v;"
   "float m;"
   "if(i==0)"
     "{"
       "v+=n(v,2)/50;"
       "v+=floor(v*vec2(.6,7)+12*cos(floor(v.y*4.5)))*31;"
       "f=vec3(1,.57,.2)*(3+n(v,2))/16+n(v*vec2(.8,16),2)/30;"
       "if(y>25&&y<=60&&a.y<1)"
         "f=mix(f,vec3(1,.01,.01)/9,smoothstep(.2,.204,n(a,2.3)));"
       "m=.15+.017*n(v*vec2(.12,12)+n(v,2)/2,1.4)+f.x/2;"
       "f*=pow(m,4)*168;"
       "return m;"
     "}"
   "if(abs(v.x)<1.5&&abs(v.y-3)<3&&x.z<-c.z+.1)"
     "{"
       "f=vec3(n(v*vec2(1,.2),2)+2)/4;"
       "v=abs(v+n(v,2)/60-vec2(0,3));"
       "if(v.x>1.475||v.y>2.975)"
         "f*=.3;"
       "return 11-clamp(abs(max(abs(v.x-.7)+.3,abs(v.y-1.4)-.3)-.7),.05,.14)*11+n(v*vec2(1,.2),2.5);"
     "}"
   "m=1-smoothstep(.1,.12,n(v/2+10,2.5)-.1);"
   "f=mix(vec3(.7),mix(vec3(1,1,.5)/1.4+n(v*8,1.2)/15,vec3(.65,1,.5),m)/4*min(v.y*3-1.5+.8,1),step(.5,v.y))-step(.4,n(v*3,1.6))/140;"
   "return n(v,2)/2-f.y*4;"
 "}"
 "vec3 t(vec2 v,out vec3 y)"
 "{"
   "f=vec3(.004,0,0);"
   "return normalize(vec3(p(v+f.xy,y)-p(v-f.xy,y),.16,p(v+f.yx,y)-p(v-f.yx,y)));"
 "}"
 "float n(vec3 v)"
 "{"
   "float x=y>81?-1.4:-2.827;"
   "v-=z;"
   "v.y+=(n(v.xz*=mat2(cos(x),sin(x),-sin(x),cos(x)),2.5)/2+.5)*clamp(y/3-29,0,5)+c.y-1.25;"
   "v.x+=n(v.yz,2.5)*clamp(y/3-29,0,5)-max(0,v.y)/10;"
   "v.z=abs(v.z);"
   "return min(min(min(max(length(max(abs(v.xz)-vec2(.45,.41),0))-.25,abs(v.y)-.02),length(v-vec3(clamp(v.x,-.6,.6),-.1,.6))-.025),length(vec3(abs(v.x)-.6+min(0,v.y)/5,v.y-clamp(v.y,-1.24,1.5*step(0,v.x)),v.z-.6))-.025),max(length(max(abs(v.yz-vec2(1,0))-vec2(.5,.35),0))-.25,abs(v.x-.6)-.03));"
 "}"
 "float h(vec3 v,vec3 y)"
 "{"
   "float x=0,f=0;"
   "for(;f<200&&x<30;++f)"
     "i=min(i,m=n(v+y*x)),x+=m/2;"
   "return x;"
 "}"
 "vec3 w(vec3 v,vec3 a)"
 "{"
   "vec3 r;"
   "x=v+a*(m=min((sign(a.x)*c.x-v.x)/a.x,min((sign(a.y)*c.y-v.y)/a.y,(sign(a.z)*c.z-v.z)/a.z)));"
   "if(abs(x.y)>c.y-.001)"
     "i=0,f=t(x.xz/2,r),r*=min(vec3(.75,1,.75)+min(c.x-abs(x.x),c.z-abs(x.z))/4,1)*smoothstep(0,2.2,length(x-z-vec3(0,-c.y+1.25,0)));"
   "else"
     "{"
       "i=1;"
       "f=t(vec2(x.x-x.z-c.z,x.y+c.y),r).xzy;"
       "if(abs((x/c).x)>abs((x/c).z)&&abs((x/c).x)>abs((x/c).y))"
         "f=f.zyx*vec3(-sign(x.x),1,-1);"
       "r*=mix(vec3(1,1,.5),vec3(1),min((-abs(x.y)+c.y)/4,1))*sqrt(min((-abs(x.y)+c.y)*8+.4,1));"
     "}"
   "r*=mix(4,1,smoothstep(1,2,length(x/c)))*max(0,1+3*dot(f,normalize(g-x)))/16*(1-smoothstep(0,2.5,length(max(abs(x)-c+1,0))));"
   "r=(r+pow(clamp(dot(normalize(normalize(g-x)-a),f),0,1),64)*(r*.8+.2))*exp2(-length(g-x)/1.2)*s*20*mix(.02,2,smoothstep(.6,.7,dot(normalize(g-x),e)));"
   "if(y<=97)"
     "r+=pow(vec3(2.2,.7,.3)*exp(-abs(n(x.xz/2+x.y/4-y/2,1.5))*10*n(-x.xy+y-x.z,1.5)+n(x.xy-y/3,2)*6-x.y-c.y-x.z-c.z+(y-88)/4+x.x/9),vec3(2))/70;"
   "return r;"
 "}"
 "void main()"
 "{"
   "if(gl_TexCoord[0].y==0)"
     "gl_FragColor.xyz=vec3(gl_TexCoord[0].xx,fract(sin(float((int(gl_FragCoord.x)*19349663^int(gl_FragCoord.y)*83492791)%38069))*43758.545));"
   "else"
     " if(gl_TexCoord[0].y==1)"
       "{"
         "gl_FragColor*=0;"
         "for(int p=-6;p<=6;++p)"
           "for(int t=-6;t<=6;++t)"
             "if(t*t+p*p<37)"
               "gl_FragColor=mix(gl_FragColor,max(gl_FragColor,texelFetch(a,ivec2(gl_FragCoord.xy+vec2(t,p)*texelFetch(a,ivec2(gl_FragCoord.xy),0).w),0)),.06);"
       "}"
     "else"
       " if(abs((v.y+=.22)-.5)<.2)"
         "{"
           "vec3 t=vec3(0);"
           "for(int p=0;p<8;++p)"
             "{"
               "float l=2.7,d;"
               "vec3 o=vec3(10+y/4,-4,-1),b=vec3(-7,-2,0),u,C;"
               "m=0;"
               "if(y>97)"
                 "b=o=vec3(0,-4,y-97),b.z-=1,g=vec3(0,3,-22),s=.4,c=vec3(3,7,28),z=vec3(-4,0,13);"
               "else"
                 " if(y>81)"
                   "b=o=vec3(0,-3.6,97-y),b.z-=1,g=vec3(0,5,-5),s=.01,l=1.7,c=vec3(7,5,9),z=vec3(0,0,-2);"
                 "else"
                   " if(y>60)"
                     "o=vec3((y-60)/5-1,-2,13),b=vec3(-7,-5,-7),g=vec3(0,5,-3),m=sin(y-60)/10-.9,c=vec3(7,5,9),z=vec3(-4,0,2);"
                   "else"
                     " if(y>25)"
                       "o=vec3(0,0,25-y/2.7),b=vec3(0,-4,18-y/2.7),g=vec3(-2,5,-7),c=vec3(9,5,14),z=vec3(3.5,0,-6);"
                     "else"
                       " m=-.9;"
               "r=7;"
               "e=vec3(0,cos(m),sin(m));"
               "u=normalize(b-o);"
               "C=normalize(vec3(-u.z,0,u.x));"
               "if(y>81&&y<=97)"
                 "u.y+=n(vec2(y+6)/2,2)*.05,C.y+=n(vec2(y)/3,2)*.08;"
               "u=mat3(C,cross(C,u),u)*normalize(vec3(v*2+vec2(p&1,p/2)/1200-1,l));"
               "d=h(o,u);"
               "if(d<30)"
                 "x=o+u*d,f=vec3(.02,0,0),f=normalize(vec3(n(x+f.xyy)-m,n(x+f.yxy)-m,n(x+f.yyx)-m)),r=2,C=w(x,reflect(u,f))*pow(1+dot(u,f),3);"
               "else"
                 "{"
                   "C=w(o,u);"
                   "l=(.3+.7*pow(1+dot(u,f),2)/4)*(.1+.9*step(x.y,-c.y+.01));"
                   "o=reflect(u,f);"
                   "d=m;"
                   "r=2;"
                   "i=1e2;"
                   "u=normalize(g-x);"
                   "h(x+u*.01,u);"
                   "C*=.4+.6*smoothstep(0,n(x)/5,i);"
                   "if(x.y<-c.y+.01)"
                     "if(h(x,o)<30)"
                       "l*=.2,C*=.7;"
                   "C+=w(x,o)*l*mix(vec3(1),C,.8);"
                 "}"
               "if(y>60&&y<=97)"
                 "gl_FragColor.w=y<=81?(d-15)/6:d/15;"
               "C*=smoothstep(0,2,abs(y-60))*smoothstep(0,3,abs(y-112))*(1-(pow(abs(v.x*2-1),4)+pow(abs(v.y*2-1)*2.5,4))*.4);"
               "C=pow(.003+C*40,vec3(1,1.1,1.2));"
               "t+=C/(C+.4)*1.1;"
             "}"
           "m=0;"
           "for(int p=0;p<64;++p)"
             "m+=texture(a,clamp((v-vec2(.4,.532)+vec2(p&7,p/8)/10000)*4*vec2(2.25,4),0,1)).x+texture(a,clamp((v-vec2(.38,.33)+vec2(p&7,p/8)/10000)*vec2(2.25,4),0,1)).y;"
           "gl_FragColor.xyz=sqrt(t/8)+m/104*clamp((6-abs(y-10))/5,0,1);"
         "}"
 "}";

#endif // OSCARS_CHAIR_FRAG_EXPECTED_
