/* File generated with 
 * http://www.ctrl-alt-test.fr
 */
# define VAR_ambientLight "f"
# define VAR_diffuseColor "n"
# define VAR_emissiveColor "z"
# define VAR_fragmentColor "r"
# define VAR_mediumDensity "s"
# define VAR_normal "m"
# define VAR_specularColor "e"
# define VAR_texture0 "v"
# define VAR_viewVec "d"

// tests/unit/inout.frag
"#version 330\n"
 "uniform samplerCube v;"
 "in vec3 m,d;"
 "out vec4 r;"
 "void main()"
 "{"
   "vec3 f=normalize(d),z=normalize(m),c=vec3(.1,.2,.3),n=texture(v,reflect(-f,z)).xyz,e=texture(v,refract(-f,z,1./1.5)).xyz,p=mix(c*e,n,.1);"
   "r=vec4(p,1);"
 "}"
 "vec3 t(vec3 v,vec3 m,vec3 f)"
 "{"
   "float r=1.-clamp(dot(m,f),0.,1.);"
   "return r*r*r*r*r*(1.-v)+v;"
 "}"
 "vec3 t(vec3 v,vec3 m,vec3 f,vec3 n,vec3 d,float r)"
 "{"
   "vec3 z=normalize(v+m),p,e,c;"
   "float s=1.+2048.*(1.-r)*(1.-r);"
   "p=n;"
   "e=vec3(pow(clamp(dot(z,f),0.,1.),s)*(s+4.)/8.);"
   "c=t(d,v,z);"
   "return mix(p,e,c);"
 "}",

// tests/unit/inout2.frag
"#version 330\n"
 "uniform samplerCube v;"
 "uniform float s;"
 "uniform vec3 f,n,z,e;"
 "in vec3 m,d;"
 "out vec4 r;"
 "vec3 t(vec3 v,vec3 m,vec3 f)"
 "{"
   "float r=1.-clamp(dot(m,f),0.,1.);"
   "return r*r*r*r*r*(1.-v)+v;"
 "}"
 "void main()"
 "{"
   "vec3 v=n,p=z+mix(v*f,f,.5);"
   "r=vec4(p,1);"
 "}"
 "vec3 t(vec3 v,vec3 m,vec3 f,vec3 n,vec3 d,float r)"
 "{"
   "vec3 z=normalize(v+m),p,e,c;"
   "float s=1.+2048.*(1.-r)*(1.-r);"
   "p=n;"
   "e=vec3(pow(clamp(dot(z,f),0.,1.),s)*(s+4.)/8.);"
   "c=t(d,v,z);"
   "return mix(p,e,c);"
 "}",
