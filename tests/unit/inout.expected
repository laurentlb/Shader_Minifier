// Generated with  (https://github.com/laurentlb/Shader_Minifier/)
# define VAR_ambientLight "r"
# define VAR_diffuseColor "p"
# define VAR_emissiveColor "z"
# define VAR_fragmentColor "f"
# define VAR_mediumDensity "s"
# define VAR_normal "m"
# define VAR_specularColor "C"
# define VAR_texture0 "v"
# define VAR_viewVec "d"

// tests/unit/inout.frag
"#version 330\n"
 "uniform samplerCube v;"
 "in vec3 m,d;"
 "out vec4 f;"
 "void main()"
 "{"
   "vec3 c=normalize(d),r=normalize(m),p=vec3(.1,.2,.3),z=texture(v,reflect(-c,r)).xyz,C=texture(v,refract(-c,r,1./1.5)).xyz;"
   "f=vec4(mix(p*C,z,.1),1);"
 "}"
 "vec3 t(vec3 v,vec3 m,vec3 r)"
 "{"
   "float f=1.-clamp(dot(m,r),0.,1.);"
   "return f*f*f*f*f*(1.-v)+v;"
 "}"
 "vec3 t(vec3 v,vec3 m,vec3 r,vec3 c,vec3 d,float f)"
 "{"
   "vec3 p=normalize(v+m),z,C;"
   "float s=1.+2048.*(1.-f)*(1.-f);"
   "z=vec3(pow(clamp(dot(p,r),0.,1.),s)*(s+4.)/8.);"
   "C=t(d,v,p);"
   "return mix(c,z,C);"
 "}",

// tests/unit/inout2.frag
"#version 330\n"
 "uniform samplerCube v;"
 "uniform float s;"
 "uniform vec3 r,p,z,C;"
 "in vec3 m,d;"
 "out vec4 f;"
 "vec3 t(vec3 v,vec3 m,vec3 r)"
 "{"
   "float f=1.-clamp(dot(m,r),0.,1.);"
   "return f*f*f*f*f*(1.-v)+v;"
 "}"
 "void main()"
 "{"
   "f=vec4(z+mix(p*r,r,.5),1);"
 "}"
 "vec3 t(vec3 v,vec3 m,vec3 r,vec3 c,vec3 d,float f)"
 "{"
   "vec3 p=normalize(v+m),z,C;"
   "float s=1.+2048.*(1.-f)*(1.-f);"
   "z=vec3(pow(clamp(dot(p,r),0.,1.),s)*(s+4.)/8.);"
   "C=t(d,v,p);"
   "return mix(c,z,C);"
 "}",
